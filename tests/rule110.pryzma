width = 61
steps = 30

cells = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]

for(step, 0:steps){
    // Print current generation
    line = ""
    foreach(c, cells){
        if(c == 1){
            line += "â–ˆ"
        }else{
            line += " "
        }
    }
    print line

    // Compute next generation
    next_cells = []
    for(i, 0:len(cells)){
        if(i > 0){
            left = cells[i - 1]
        }else{
            left = 0
        }
        center = cells[i]
        if(i < len(cells)-1){
            index = i+1
            right = cells[index]
        }else{
            right = 0
        }
        
        // Rule 110 logic
        if(left == 1){
            if(center == 1){
                if(right == 1){
                    append next_cells, 0
                }else{
                    append next_cells, 1
                }
            }else{
                if(right == 1){
                    append next_cells, 1
                }else{
                    append next_cells, 0
                }
            }
        }else{
            if(center == 1){
                if(right == 1){
                    append next_cells, 1
                }else{
                    append next_cells, 1
                }
            }else{
                if(right == 1){
                    append next_cells, 1
                }else{
                    append next_cells, 0
                }
            }
        }
    }

    cells = next_cells
}
